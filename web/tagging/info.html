<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tagging - Manual de Usuario</title>
    
    <link rel="stylesheet" href="/web/00-css/tagging/info.css">
</head>
<body>
    <div class="container">
        <h1>üè∑Ô∏è TAGGING</h1>
        <p class="subtitle">Gesti√≥n de Etiquetado VLAN en Interfaces de Red</p>
        
        <h2>üìã Descripci√≥n General</h2>
        <p>
            El m√≥dulo <strong>TAGGING</strong> permite agregar o eliminar etiquetas VLAN (IEEE 802.1Q) en interfaces de red,
            facilitando la segmentaci√≥n del tr√°fico de red mediante VLANs. Este sistema gestiona dos operaciones principales:
        </p>
        <ul>
            <li><strong>TAG:</strong> A√±ade etiquetas VLAN a paquetes que entran por una interfaz</li>
            <li><strong>UNTAG:</strong> Elimina etiquetas VLAN de paquetes que salen por una interfaz</li>
        </ul>
        
        <div class="note">
            <strong>üí° Concepto Importante:</strong>
            El tagging es esencial para separar tr√°fico en redes virtualizadas. Permite que m√∫ltiples VLANs compartan
            la misma infraestructura f√≠sica mientras mantienen el tr√°fico completamente aislado.
        </div>
        
        <h2>üéØ Funcionalidad</h2>
        
        <h3>Operaci√≥n TAG</h3>
        <p>
            Cuando se configura una operaci√≥n <code>TAG</code>, el sistema:
        </p>
        <ul>
            <li>Recibe tr√°fico sin etiquetar en una interfaz f√≠sica</li>
            <li>A√±ade etiquetas VLAN espec√≠ficas a los paquetes</li>
            <li>Permite identificar el origen del tr√°fico en switches y routers</li>
            <li>Asocia la interfaz f√≠sica al bridge <code>br0</code> y aplica VLANs con <code>bridge vlan</code></li>
        </ul>
        
        <div class="example">
    Ejemplo: interfaz eth0 con TAG 100<br>
    - Interfaz f√≠sica: eth0<br>
    - VLAN ID: 100<br>
    - Todo el tr√°fico de eth0 llevar√° etiqueta VLAN 100
        </div>
        
        <h3>Operaci√≥n UNTAG</h3>
        <p>
            Cuando se configura una operaci√≥n <code>UNTAG</code>, el sistema:
        </p>
        <ul>
            <li>Recibe tr√°fico etiquetado de una VLAN</li>
            <li>Elimina la etiqueta VLAN antes de enviar los paquetes</li>
            <li>Permite conectar dispositivos que no entienden VLANs</li>
            <li>√ötil para clientes finales o equipos legacy</li>
        </ul>
        
        <h2>üéÆ Controles Disponibles</h2>
        
        <div class="button-section">
            <div class="button-name">üöÄ TAGGING START</div>
            <p>
                Aplica todas las reglas de etiquetado configuradas en <code>config/tagging/tagging.json</code>.
                Crea las subinterfaces VLAN necesarias y configura las operaciones TAG/UNTAG seg√∫n la configuraci√≥n.
            </p>
        </div>
        
        <div class="button-section">
            <div class="button-name">üõë TAGGING STOP</div>
            <p>
                Detiene todas las operaciones de etiquetado y elimina las subinterfaces VLAN creadas.
                El sistema vuelve a usar solo las interfaces f√≠sicas sin etiquetas.
            </p>
        </div>
        
        <div class="button-section">
            <div class="button-name">üîÑ TAGGING RESTART</div>
            <p>
                Realiza un reinicio completo del m√≥dulo: primero ejecuta STOP para limpiar configuraciones antiguas,
                luego ejecuta START para aplicar las reglas actualizadas. √ötil despu√©s de modificar la configuraci√≥n.
            </p>
        </div>
        
        <div class="button-section">
            <div class="button-name">üìä TAGGING STATUS</div>
            <p>
                Muestra el estado actual de todas las subinterfaces VLAN configuradas:
            </p>
            <ul>
                <li>Interfaces VLAN activas</li>
                <li>Estado UP/DOWN de cada subinterfaz</li>
                <li>VLAN IDs asignados</li>
                <li>Direcciones IP configuradas</li>
            </ul>
        </div>
        
        <div class="button-section">
            <div class="button-name">‚öôÔ∏è TAGGING CONFIG</div>
            <p>
                Abre el editor de configuraci√≥n donde puedes definir las reglas de etiquetado.
                Aqu√≠ especificas qu√© interfaces deben tener etiquetas VLAN y con qu√© ID.
            </p>
        </div>
        
        <h2>üìù Configuraci√≥n</h2>
        <p>
            El archivo de configuraci√≥n <code>config/tagging/tagging.json</code> define las interfaces y sus VLANs.
            Cada entrada especifica:
        </p>
        <ul>
            <li><strong>name:</strong> Interfaz f√≠sica a utilizar</li>
            <li><strong>vlan_untag:</strong> VLAN de acceso (solo una, opcional)</li>
            <li><strong>vlan_tag:</strong> VLANs trunk (lista o rangos, opcional)</li>
        </ul>
        
        <div class="example">
{
    "interfaces": [
        {
            "name": "eth0",
            "vlan_untag": "10",
            "vlan_tag": ""
        },
        {
            "name": "eth1",
            "vlan_untag": "",
            "vlan_tag": "20,30-32"
        }
    ],
    "status": 0
}
        </div>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Advertencias:</strong>
            <ul>
                <li>Los VLAN IDs deben estar entre 1 y 4094</li>
                <li>No uses VLAN ID 0 (reservado) ni 4095 (reservado)</li>
                <li>Aseg√∫rate de que las interfaces f√≠sicas existen antes de aplicar el tagging</li>
                <li>Al hacer STOP, todas las conexiones activas en esas VLANs se perder√°n temporalmente</li>
            </ul>
        </div>
        
        <h2>üîß Uso T√≠pico</h2>
        <ol>
            <li>Click en <strong>‚öôÔ∏è TAGGING CONFIG</strong> para configurar las reglas</li>
            <li>Define las interfaces y VLANs necesarias</li>
            <li>Guarda la configuraci√≥n</li>
            <li>Click en <strong>üöÄ TAGGING START</strong> para aplicar los cambios</li>
            <li>Click en <strong>üìä TAGGING STATUS</strong> para verificar que todo est√° activo</li>
            <li>Click en <strong>üìú VER LOGS</strong> si necesitas diagn√≥stico detallado</li>
        </ol>
        
        <div class="note">
            <strong>üí° Tip:</strong>
            Despu√©s de cualquier cambio en la configuraci√≥n, ejecuta <strong>TAGGING RESTART</strong> para
            asegurar que las nuevas reglas se apliquen correctamente.
        </div>
        
        <h2>üìä Monitoreo</h2>
        <p>
            Los logs del m√≥dulo se almacenan en <code>logs/tagging/actions.log</code> y muestran:
        </p>
        <ul>
            <li>Timestamp de cada operaci√≥n</li>
            <li>Creaci√≥n exitosa de subinterfaces VLAN</li>
            <li>Errores en la configuraci√≥n de etiquetas</li>
            <li>Cambios de estado de las interfaces</li>
        </ul>
        
        <p style="margin-top: 40px; text-align: center; color: #999; font-size: 14px;">
            JSBach V4.2 - Tagging Module | Gesti√≥n Avanzada de VLANs
        </p>
    </div>
</body>
</html>
